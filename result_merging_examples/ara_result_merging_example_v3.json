# Below are proposed representations of three messages based on the "What may treat asthma?" creative mode query scenario described/diagrammed here: https://lucid.app/lucidchart/5307249e-6655-40af-8faa-d093b1c5f261/edit?beaconFlowId=A9F314A5B2338D81&invitationId=inv_2345c710-8285-46c7-bc64-0cd0f2a65ade&page=0_0#
#   1. The message sent from the ARAGORN ARA to the ARS - containing one result it found  (Benralizumab).
#   2. The message sent from the ARAX ARA to the ARS - containing one result it found (Benralizumab).
#   3. The message sent from the ARS to the UI - containing this Benralizumab result after merging knowledge graohs, support graphs, and other metadata across ARAGORN and ARAX responses.
# The approach uses named graphs to define sets of edges that we want to be able to reference as evidence/support for knowledge conveyed in the message.
# These named graphs are created as discrete objects in a separate 'Auxiliary Graph' section of the TRAPI message.  
# Each named graph here is represented as an array of edge identifiers that comprise it.


  ## MESSAGE 1: ARAGORN TO ARS
{
  "context": "https://raw.githubusercontent.com/biolink/biolink-model/master/context.jsonld",
  "datetime": "2022-11-02 23:18:10",
  "description": "Normal completion",
  "id": "https://arax.ncats.io/api/arax/v1.2/response/77143",
  "message": {
    "query_graph": {
      "edges": {
        "e0": {
          "knowledge_type": "inferred",
          "subject": "n0",
          "predicates": [
            "biolink:treats"
          ],
          "object": "n1",
          "qualifier_constraints": [],
          "attribute_constraints": []
        }
      },
      "nodes": {
        "n0": {
          "categories": [
            "biolink:ChemicalEntity"
          ],
          "constraints": [],
          "is_set": false
        },
        "n1": {
          "categories": [
            "biolink:Disease"
          ],
          "constraints": [],
          "ids": [
            "MONDO:0004979"    # asthma
          ],
          "is_set": false
        }
      }
    },
    "knowledge_graph": {
      "edges": {
      
       ## Answer Edges (assertions or predictions that topologically match the query)
        "E_00": {              
          "subject": "Benralizumab",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_01": {
          "subject": "benralizumab",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:aragorn_predictinator",
              "attribute_source": "infores:aragorn"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            },
            {
              "attribute_type_id": "biolink:support_graphs",
              "value": [
                "ng_01",
                "ng_02",
                "ng_03",
                "ng_04"
              ],
              "attribute_source": "infores:aragorn_predictinator"
            }
          ]
        },

       ## Evidence Edges (edges/paths inferred over to make predictions - in the 'auxiliary graphs' section of the message, these named graphs are defined for set of edges representing a meaningful line of evidence/reasoning used to support the prediction)
        "E_02": {
          "subject": "benralizumab",
          "predicate": "biolink:ameliorates",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:semmeddb",
              "attribute_source": "infores:bte"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_03": {
          "subject": "benralizumab",
          "predicate": "biolink:similar_to",
          "object": "neratinib",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:hetio",
              "attribute_source": "infores:automat-hetio"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_04": {
          "subject": "neratinib",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_05": {
          "subject": "neratinib",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:chembl",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_06": {
          "subject": "benralizumab",
          "predicate": "biolink:decreases_expression_of",
          "object": "ERBB2",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:ctd",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_07": {
          "subject": "ERBB2",
          "predicate": "biolink:gene_associated_with_condition",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:genetics_kp",
              "attribute_source": "infores:genetics_kp"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_08": {
          "subject": "benralizumab",
          "predicate": "biolink:affects",
          "object": "ERVK2",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_09": {
          "subject": "ERVK2",
          "predicate": "biolink:gene_associated_with_condition",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:genetics_kp",
              "attribute_source": "infores:genetics_kp"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },

       ## Scoring/Context Edges -  Literature Co-Occurrence 
        "E_10": {
          "subject": "benralizumab",
          "predicate": "biolink:occurs_together_in_literature_with",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:aragorn-ranker-ara",
              "attribute_source": "infores:aragorn"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_11": {
          "subject": "benralizumab",
          "predicate": "biolink:occurs_together_in_literature_with",
          "object": "ERVK2",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:aragorn-ranker-ara",
              "attribute_source": "infores:aragorn"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_12": {
          "subject": "neratinib",
          "predicate": "biolink:occurs_together_in_literature_with",
          "object": "Tyr Kinase",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:aragorn-ranker-ara",
              "attribute_source": "infores:aragorn"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
		
       ## Scoring/Context Edges -  Answer Coalescence 
        "E_13": {
          "subject": "benralizumab",
          "predicate": "biolink:inhibits",
          "object": "Tyr Kinase",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_14": {
          "subject": "erlotinib",
          "predicate": "biolink:inhibits",
          "object": "Tyr Kinase",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_15": {
          "subject": "neratinib",
          "predicate": "biolink:inhibits",
          "object": "Tyr Kinase",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        }
      },
      "nodes": {                # Omitted - not necessary to illustrate proposal
      }
    },
    "auxiliary_graphs": {       # Named graphs that group subsets of edges from the KGraph into graph objects that can be referenced from an Answer Edge (as evidence/explanation supporting that Edge), or from a Result (as information used to generate a score)
      "ng_01": {
        "edges": [
          "E_02"
        ],
        "attributes": []        # Consider the idea of creating a slot or attribute to indicate the role played by each named graph - e.g. 'evidence graph', 'scoring support graph', 'answer coalescence graph', etc. And/or using attributes to connect each graph to the rule/method that defined it.
      },
      "ng_02": {
        "edges": [
          "E_03",
          "E_04",
          "E_05"
        ],
        "attributes": []
      },
      "ng_03": {
        "edges": [
          "E_06",
          "E_07"
        ],
        "attributes": []
      },
      "ng_04": {
        "edges": [
          "E_08",
          "E_09"
        ],
        "attributes": []
      },
      "ng_05": {
        "edges": [
          "E_10",
          "E_11",
          "E_12"
        ],
        "attributes": []
      },
      "ng_06": {
        "edges": [
          "E_13",
          "E_14",
          "E_15"
        ],
        "attributes": []
      }
    },
    "results": [
      {
        "essence": "BENRALIZUMAB",
        "essence_category": "['biolink:ChemicalEntity']",
        "node_bindings": {
          "n0": [
            {
              "id": "CHEMBL:1742991"        # benralizumab
            }
          ],
          "n1": [
            {
              "id": "MONDO:0004979"         # asthma
            }
          ]
        },
        "analyses": [
          {
            "reasoner_id": "ARAGORN",
            "score": 1.9,
            "scoring_method": "ARAGORN Scoring Algorhitm 1",
            "support_graphs": [
              "ng_05",
              "ng_06"
            ],
            "edge_bindings": {
              "e0": [
                {
                  "id": "E_00"
                },
                {
                  "id": "E_01"
                }
              ]
            }
          }
        ]
      }
    ],
    "reasoner_id": "ARAGORN",
    "schema_version": "1.3.0",
    "status": "OK",
    "submitter": "submitter",
    "total_results_count": 1,
    "type": "translator_reasoner_response"
  }
}


## --------------------------------------------------------------------------------------------------------------------- ##


## MESSAGE 2: ARAX TO ARS
# Also returns the single result 'Benralizumab', along with the support graphs/metadata used by ARAX to produce and score the result.

{
  "context": "https://raw.githubusercontent.com/biolink/biolink-model/master/context.jsonld",
  "datetime": "2022-11-02 23:18:18",
  "description": "Normal completion",
  "id": "https://arax.ncats.io/api/arax/v1.2/response/77144",
  "message": {
    "query_graph": {
      "edges": {
        "e0": {
          "knowledge_type": "inferred",
          "subject": "n0",
          "predicates": [
            "biolink:treats"
          ],
          "object": "n1",
          "qualifier_constraints": [],
          "attribute_constraints": []
        }
      },
      "nodes": {
        "n0": {
          "categories": [
            "biolink:ChemicalEntity"
          ],
          "constraints": [],
          "is_set": false
        },
        "n1": {
          "categories": [
            "biolink:Disease"
          ],
          "constraints": [],
          "ids": [
            "MONDO:0004979"    # asthma
          ],
          "is_set": false
        }
      }
    },
    "knowledge_graph": {
      "edges": {
      
       ## Answer Edges (assertions or predictions that topologically match the query)
        "E_16": {
          "subject": "Benralizumab",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_17": {
          "subject": "benralizumab",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:arax_treat-o-matic",
              "attribute_source": "infores:arax"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            },
            {
              "attribute_type_id": "biolink:support_graphs",
              "value": [
                "ng_07"
              ],
              "attribute_source": "infores:arax_treat-o-matic"
            }
          ]
        },

       ## Explanatory edges (edges/paths comprising a possible mechanistic explanation for the prediction)
        "E_18": {
          "subject": "benralizumab",
          "predicate": "biolink:interacts_with",
          "object": "FCGR3A",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:stringdb",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_19": {
          "subject": "benralizumab",
          "predicate": "biolink:affects",
          "object": "ERVK2",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:aragorn"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_20": {
          "subject": "benralizumab",
          "predicate": "biolink:negatively_regulates",
          "object": "IL5RA",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:semmed",
              "attribute_source": "infores:bte"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_21": {
          "subject": "benralizumab",
          "predicate": "biolink:decreases_activity_of",
          "object": "IL5RA",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:ctd",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_22": {
          "subject": "FCGR3A",
          "predicate": "biolink:gnee_associated_with_condition",
          "object": "pneumonia",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:genetics_kp",
              "attribute_source": "infores:genetics_kp"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_23": {
          "subject": "FCGR3A",
          "predicate": "biolink:gene_associated_with_condition",
          "object": "rhinitis",
          "attributes": 
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:genetics_kp",
              "attribute_source": "infores:genetics_kp"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_24": {
          "subject": "ERVK2",
          "predicate": "biolink:gene_associated_with_condition",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:genetics_kp",
              "attribute_source": "infores:genetics_kp"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_25": {
          "subject": "IL5RA",
          "predicate": "biolink:interacts_with",
          "object": "JAK1",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:stringdb",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_26": {
          "subject": "pneumonia",
          "predicate": "biolink:causes",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:semmed",
              "attribute_source": "infores:bte"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_27": {
          "subject": "rhinitis",
          "predicate": "biolink:causes",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:semmed",
              "attribute_source": "infores:bte"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_28": {
          "subject": "JAK1",
          "predicate": "biolink:gene_associated_with_condition",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:genetics_kp",
              "attribute_source": "infores:genetics_kp"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
		
	   ## Scoring/Context Edges -  Literature Co-Occurrence / NGD 
        "E_29": {
          "subject": "benralizumab",
          "predicate": "biolink:has_normalized_google_distance_with",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        }
      },
	  
	 ## QUESTION for ARAX: What else, if anything, does ARAX add to a support graph?
	  
      "nodes": {              # Not shown, as not necessary to illustrate proposal
      }
    },
    "auxiliary_graphs": {       # # Named graphs that group subsets of edges from the KGraph into graph objects that are referenced from an Answer Edge (as evidence/explanation supporting that Edge), or from a Result (as information used to generate a score)
      "ng_07": {
        "edges": [
          "E_18",
		  "E_19",
		  "E_20",
		  "E_21",
		  "E_22",
		  "E_23",
		  "E_24",
		  "E_25",
		  "E_26",
		  "E_27",
		  "E_28"
        ],
        "attributes": []
      },
      "ng_08": {
        "edges": [
          "E_29"
        ],
        "attributes": []
      }
    },
    "results": [
      {
        "essence": "BENRALIZUMAB",
        "essence_category": "['biolink:ChemicalEntity']",
        "node_bindings": {
          "n0": [
            {
              "id": "CHEMBL:1742991"        # benralizumab
            }
          ],
          "n1": [
            {
              "id": "MONDO:0004979"         # asthma
            }
          ]
        },
        "analyses": [
          {
            "reasoner_id": "ARAX",
            "score": 0.87,
            "scoring_method": "ARAX Scoring Algorhitm 1",
            "support_graphs": [
              "ng_08"
            ],
            "edge_bindings": {
              "e0": [
                {
                  "id": "E_16"
                },
                {
                  "id": "E_17"
                }
              ]
            }
          }
        ]
      }
    ],
    "reasoner_id": "ARAX",
    "schema_version": "1.3.0",
    "status": "OK",
    "submitter": "submitter",
    "total_results_count": 1,
    "type": "translator_reasoner_response"
  }
}


## --------------------------------------------------------------------------------------------------------------------- ##



## MESSAGE 3: ARS TO UI
# Sends this single 'Benralizumab' result produced by ARAGORN and ARAX to the UI, after merging knowledge graphs, support graphs, and scoring metadata from the two ARAs.


{
  "context": "https://raw.githubusercontent.com/biolink/biolink-model/master/context.jsonld",
  "datetime": "2022-11-02 23:19:50",
  "description": "Normal completion",
  "id": "https://arax.ncats.io/api/arax/v1.2/response/77145",
  "message": {
    "query_graph": {
      "edges": {
        "e0": {
          "knowledge_type": "inferred",
          "subject": "n0",
          "predicates": [
            "biolink:treats"
          ],
          "object": "n1",
          "qualifier_constraints": [],
          "attribute_constraints": []
        }
      },
      "nodes": {
        "n0": {
          "categories": [
            "biolink:ChemicalEntity"
          ],
          "constraints": [],
          "is_set": false
        },
        "n1": {
          "categories": [
            "biolink:Disease"
          ],
          "constraints": [],
          "ids": [
            "MONDO:0004979"    # asthma
          ],
          "is_set": false
        }
      }
    },
    "knowledge_graph": {
      "edges": {
      
       ## Answer Edges (assertions or predictions that topologically match the query)
	   
        "E_00_16": {              # This assertion from DrugBank was an edge in the results from ARAGORN (E_00) and ARAX (E_16), and thus gets merged here in the ARS message to the UI (note the attributes asserting ARAGORN and ARAX as aggregator knowledge sources). 
          "subject": "Benralizumab",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            },
		    {   
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_01": {
          "subject": "benralizumab",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:aragorn_predictinator",
              "attribute_source": "infores:aragorn"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            },
            {
              "attribute_type_id": "biolink:support_graphs",
              "value": [
                "ng_01",
                "ng_02",
                "ng_03",
                "ng_04"
              ],
              "attribute_source": "infores:aragorn_predictinator"
            }
          ]
        },
        "E_17": {
          "subject": "benralizumab",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:arax_treat-o-matic",
              "attribute_source": "infores:arax"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            },
            {
              "attribute_type_id": "biolink:support_graphs",
              "value": [
                "ng_07"
              ],
              "attribute_source": "infores:arax_treat-o-matic"
            }
          ]
        },


       ## Evidence/Explanatory Edges (edges/paths inferred over to make predictions, or provided as a possible mechanistic explanation)

        ## Evidence edges supporting the ARAGORN prediction
        "E_02": {
          "subject": "benralizumab",
          "predicate": "biolink:ameliorates",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:semmeddb",
              "attribute_source": "infores:bte"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_03": {
          "subject": "benralizumab",
          "predicate": "biolink:similar_to",
          "object": "neratinib",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:hetio",
              "attribute_source": "infores:automat-hetio"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_04": {
          "subject": "neratinib",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_05": {
          "subject": "neratinib",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:chembl",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_06": {
          "subject": "benralizumab",
          "predicate": "biolink:decreases_expression_of",
          "object": "ERBB2",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:ctd",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_07": {
          "subject": "ERBB2",
          "predicate": "biolink:gene_associated_with_condition",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:genetics_kp",
              "attribute_source": "infores:genetics_kp"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_08_19": {   ## This edge was found in both ARAGORN (E_08) and ARAX (E_19) KGraphs, and it gets merged here into one edge (E_08_19), which includes retrieval provenance from both originating edges.
          "subject": "benralizumab",
          "predicate": "biolink:affects",
          "object": "ERVK2",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            },
		    {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_09_24": {   ## This edge was also found in both ARAGORN (E_09) and ARAX (E_24) KGraphs, and gets merged here into edge (E_09_24) which includes retrieval provenance from both originating edges.
          "subject": "ERVK2",
          "predicate": "biolink:gene_associated_with_condition",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:genetics_kp",
              "attribute_source": "infores:genetics_kp"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            },
			{
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },

        ## Explanatory edges supporting the ARAX prediction (minus the two edges, E_19 and E_24, that are the same as two edges in the ARAGORN evidence graphs, and are already reported above)
	    "E_18": {
          "subject": "benralizumab",
          "predicate": "biolink:interacts_with",
          "object": "FCGR3A",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:stringdb",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_20": {
          "subject": "benralizumab",
          "predicate": "biolink:negatively_regulates",
          "object": "IL5RA",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:semmed",
              "attribute_source": "infores:bte"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_21": {
          "subject": "benralizumab",
          "predicate": "biolink:decreases_activity_of",
          "object": "IL5RA",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:ctd",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_22": {
          "subject": "FCGR3A",
          "predicate": "biolink:gnee_associated_with_condition",
          "object": "pneumonia",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:genetics_kp",
              "attribute_source": "infores:genetics_kp"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_23": {
          "subject": "FCGR3A",
          "predicate": "biolink:gene_associated_with_condition",
          "object": "rhinitis",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:genetics_kp",
              "attribute_source": "infores:genetics_kp"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_25": {
          "subject": "IL5RA",
          "predicate": "biolink:interacts_with",
          "object": "JAK1",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:stringdb",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_26": {
          "subject": "pneumonia",
          "predicate": "biolink:causes",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:semmed",
              "attribute_source": "infores:bte"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_27": {
          "subject": "rhinitis",
          "predicate": "biolink:causes",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:semmed",
              "attribute_source": "infores:bte"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_28": {
          "subject": "JAK1",
          "predicate": "biolink:gene_associated_with_condition",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:genetics_kp",
              "attribute_source": "infores:genetics_kp"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },


       ## Scoring/Context Edges

        ## Literature co-occurrence edges from the ARAGORN results
        "E_10": {
          "subject": "benralizumab",
          "predicate": "biolink:occurs_together_in_literature_with",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:aragorn-ranker-ara",
              "attribute_source": "infores:aragorn"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_11": {
          "subject": "benralizumab",
          "predicate": "biolink:occurs_together_in_literature_with",
          "object": "ERVK2",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:aragorn-ranker-ara",
              "attribute_source": "infores:aragorn"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_12": {
          "subject": "neratinib",
          "predicate": "biolink:occurs_together_in_literature_with",
          "object": "Tyr Kinase",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:aragorn-ranker-ara",
              "attribute_source": "infores:aragorn"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },

        ## Answer Coalescence edges from the ARAGORN results
        "E_13": {
          "subject": "benralizumab",
          "predicate": "biolink:inhibits",
          "object": "Tyr Kinase",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_14": {
          "subject": "erlotinib",
          "predicate": "biolink:inhibits",
          "object": "Tyr Kinase",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_15": {
          "subject": "neratinib",
          "predicate": "biolink:inhibits",
          "object": "Tyr Kinase",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            }
          ]
        },

		## Normalized Google distance edges from the ARAX results
        "E_29": {
          "subject": "benralizumab",
          "predicate": "biolink:has_normalized_google_distance_with",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        }	
      },
      "nodes": {                # Omitted - not necessary to illustrate proposal
      }
    },
    "auxiliary_graphs": {       # Named graphs that group subsets of edges from the KGraph into graph objects that are referenced from an Answer Edge (as evidence/explanation supporting that Edge), or from a Result (as information used to generate a score)

      ## Named graphs from the ARAGORN results
      "ng_01": {
        "edges": [
          "E_02"
        ],
        "attributes": []
      },
      "ng_02": {
        "edges": [
          "E_03",
          "E_04",
          "E_05"
        ],
        "attributes": []
      },
      "ng_03": {
        "edges": [
          "E_06",
          "E_07"
        ],
        "attributes": []
      },
      "ng_04": {    ## Note that the edges belonging to ng_04 need to be updated to reflect the new id given to them after merging 
        "edges": [   
          "E_08_19",
          "E_09_24"
        ],
        "attributes": []
      },
      "ng_05": {
        "edges": [
          "E_10",
          "E_11",
          "E_12"
        ],
        "attributes": []
      },
      "ng_06": {
        "edges": [
          "E_13",
          "E_14",
          "E_15"
        ],
        "attributes": []
      },

      ## Named graphs from the ARAX results
      "ng_07": {
        "edges": [
          "E_18",
		  "E_08_19",  ## Note that the id of this edge belonging to ng_07 needs to be updated to reflect the new id assigned after merging
		  "E_20",
		  "E_21",
		  "E_22",
		  "E_23",
		  "E_09_24",  ## Note that the id of this edge belonging to ng_07 needs to be updated to reflect the new id assigned after merging
		  "E_25",
		  "E_26",
		  "E_27",
		  "E_28"
        ],
        "attributes": []
      },
      "ng_08": {
        "edges": [
          "E_29"
        ],
        "attributes": []
      },
    },
    "results": [
      {
        "essence": "BENRALIZUMAB",
        "essence_category": "['biolink:ChemicalEntity']",
        "node_bindings": {
          "n0": [
            {
              "id": "CHEMBL:1742991"        # benralizumab
            }
          ],
          "n1": [
            {
              "id": "MONDO:0004979"         # asthma
            }
          ]
        },
        "analyses": [
          {
            "reasoner_id": "ARAGORN",
            "score": 1.9,
            "scoring_method": "ARAGORN Scoring Algorhitm 1",
            "support_graphs": [
              "ng_05",
              "ng_06"
            ],
            "edge_bindings": {  # Indicates the specific answer edges that were scored by this reasoner 
              "e0": [
                {
                  "id": "E_00_16"   # The Drugbank Assertion
                },
                {
                  "id": "E_01"      # The ARAGORN CM Tool Prediction
                }
              ]
            }
          },
          {
            "reasoner_id": "ARAX",
            "score": 0.87,
            "scoring_method": "ARAX Scoring Algorhitm 1",
            "support_graphs": [
              "ng_08"
            ],
            "edge_bindings": {
              "e0": [
                {
                  "id": "E_00_16"   # The Drugbank Assertion
                },
                {
                  "id": "E_17"      # The ARAX CM Tool Prediction
                }
              ]
            }
          },
          {
            "reasoner_id": "ARS",     # This analysis object reports the final score assigned by the ARS / O&O, along with provenance information
            "score": 0.93,
            "scoring_method": "ARS O & O Scoring Algorhitm 1",
            "support_graphs": [
                    ## Reference any edges/graphs  used by O & O in scoring the final Result here 
            ],
            "edge_bindings": {  This is where the message tells the UI about three separate assertions that gave this Benralizumab result - allowing the UI to separately present/interrogate the specific evidence/provenance for each assertion.
              "e0": [
                {
                  "id": "E_00_16"     # The Drugbank Assertion
                },
                {
                  "id": "E_01"        # The ARAGORN CM Tool Prediction
                },
                {
                  "id": "E_17"        # The ARAX CM Tool Prediction
                }				
              ]
            }
          }		  
        ]
      }		  
    ],
    "reasoner_id": "ARS",     # Not sure about the values of these message level metadata fields for the merged message . . . 
    "schema_version": "1.3.0",
    "status": "OK",
    "submitter": "submitter",
    "total_results_count": 1,
    "type": "translator_reasoner_response"
  }
}






## --------------------------------------------------------------------------------------------------------------- ##

# Alternate representation of the Answer edges in the aggregated KGraph sent form the ARS to the UI, 
# where we consider ARAs as reasoning tools that can geenrate new knwoeldge through implementation of CM algorithms,
# and be the 'primary source' of answer edges in a TRAPI KGraph. 


    "knowledge_graph": {
      "edges": {
      
       ## Answer Edges (assertions or predictions that topologically match the query)
	   
        "E_00_16": {              # This assertion from DrugBank was an edge in the results from ARAGORN (E_00) and ARAX (E_16), and thus gets merged here in the ARS message to the UI (note the attributes asserting ARAGORN and ARAX as aggregator knowledge sources). 
          "subject": "Benralizumab",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:drugbank",
              "attribute_source": "infores:molepro"
            },
            {
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            },
		    {   
              "attribute_type_id": "biolink:aggregator_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            }
          ]
        },
        "E_01": {
          "subject": "benralizumab",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:aragorn",
              "attribute_source": "infores:aragorn"
            },
            {
              "attribute_type_id": "biolink:supporting_method",
              "value": "aragorn_predictinator",
              "attribute_source": "infores:aragorn"
            },
            {
              "attribute_type_id": "biolink:support_graphs",
              "value": [
                "ng_01",
                "ng_02",
                "ng_03",
                "ng_04"
              ],
              "attribute_source": "infores:aragorn"
            }
          ]
        },
        "E_17": {
          "subject": "benralizumab",
          "predicate": "biolink:treats",
          "object": "asthma",
          "attributes": [
            {
              "attribute_type_id": "biolink:primary_knowledge_source",
              "value": "infores:arax",
              "attribute_source": "infores:arax"
            },
            {
              "attribute_type_id": "biolink:supporting_method",
              "value": "infores:arax_treat-o-matic",
              "attribute_source": "infores:arax"
            },
            {
              "attribute_type_id": "biolink:support_graphs",
              "value": [
                "ng_07"
              ],
              "attribute_source": "infores:arax"
            }
          ]
        },
